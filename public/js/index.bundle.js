!function(e){function t(t){for(var r,a,u=t[0],s=t[1],c=t[2],l=0,f=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(h&&h(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var h=s;o.push([100,1]),n()}({100:function(e,t,n){e.exports=n(164)},164:function(e,t,n){"use strict";n.r(t);n(39),n(60),n(75);var r=n(0),i=n(98),o=n.n(i),a=n(99);n(111),n(78),n(113),n(82),n(87),n(119),n(121),n(122),n(56),n(124),n(126),n(127),n(128),n(130),n(132),n(137),n(138),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,i,o=h(a);function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),d(f(r=o.call(this)),"numChars",void 0),d(f(r),"charWidth",void 0),d(f(r),"numTextureGridCols",void 0),r.numChars=e,r.charWidth=t,r.numTextureGridCols=n,r.init(),r}return t=a,(n=[{key:"createParams",value:function(){for(var e=[],t=[],n=[],i=[],o=[],a=this.charWidth,u=this.charWidth,s=0;s<this.numChars;s++){var c=[Math.random(),Math.random(),Math.random()];e.push(-a/2),e.push(u/2),e.push(0),i.push(0),i.push(0),t.push(s),c.forEach((function(e){n.push(e)})),e.push(a/2),e.push(u/2),e.push(0),i.push(1),i.push(0),t.push(s),c.forEach((function(e){n.push(e)})),e.push(-a/2),e.push(-u/2),e.push(0),i.push(0),i.push(1),t.push(s),c.forEach((function(e){n.push(e)})),e.push(a/2),e.push(-u/2),e.push(0),i.push(1),i.push(1),t.push(s),c.forEach((function(e){n.push(e)}));var h=4*s;o.push(h),o.push(h+2),o.push(h+1),o.push(h+2),o.push(h+3),o.push(h+1)}this.setAttribute("position",new r.a(new Float32Array(e),3)),this.setAttribute("randomValue",new r.a(new Float32Array(n),3)),this.setAttribute("charIndex",new r.a(new Uint16Array(t),1)),this.setAttribute("uv",new r.a(new Float32Array(i),2)),this.setIndex(new r.a(new Uint16Array(o),1))}},{key:"init",value:function(){this.createParams(),this.computeVertexNormals()}}])&&s(t.prototype,n),i&&s(t,i),a}(r.b);function m(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,u,"next",e)}function u(e){m(o,r,i,a,u,"throw",e)}a(void 0)}))}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(){function e(){var t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,e),x(this,"time",void 0),x(this,"mesh",void 0),x(this,"numChars",void 0),x(this,"charWidth",void 0),x(this,"numTextureGridCols",void 0),x(this,"textureGridSize",void 0),x(this,"uniforms",void 0),this.numChars=null!==(t=o.numChars)&&void 0!==t?t:10,this.charWidth=null!==(n=o.charWidth)&&void 0!==n?n:32,this.numTextureGridCols=null!==(r=o.numTextureGridCols)&&void 0!==r?r:1,this.textureGridSize=null!==(i=o.textureGridSize)&&void 0!==i?i:128,this.uniforms={texture:{type:"t",value:null},time:{type:"1f",value:0},numChars:{type:"1f",value:this.numChars}},this.time=0,this.mesh=null}var t,n,i,o,a,u,s,c;return t=e,(n=[{key:"update",value:function(e){this.time+=e,this.uniforms.time.value=this.time}},{key:"resize",value:function(){}},{key:"createGeometry",value:(c=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v(this.numChars,this.charWidth,this.numTextureGridCols),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createMaterial",value:(s=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.uniforms),t=new r.j({transparent:!0,uniforms:this.uniforms,fragmentShader:"precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nvarying vec4 vColor;\nvarying vec2 vUv;\n\nvoid main(){\n  vec4 color = texture2D(texture, vUv) * vColor;\n  if(color.a == 0.0) {\n    discard;\n  } else {\n    gl_FragColor = color;\n  }\n}\n",vertexShader:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform float time;\nuniform vec3 cameraPosition;\nuniform float numChars;\n\nattribute vec3 position;\nattribute vec3 randomValues;\nattribute vec2 uv;\nattribute float charIndex;\n\nvarying vec4 vColor;\nvarying vec2 vUv;\n\nconst float PI = 3.1415926535897932384626433832795;\n\nconst float radius = 60.0;\n\nvec3 rotateVec3(vec3 p, float angle, vec3 axis){\n  vec3 a = normalize(axis);\n  float s = sin(angle);\n  float c = cos(angle);\n  float r = 1.0 - c;\n  mat3 m = mat3(\n    a.x * a.x * r + c,\n    a.y * a.x * r + a.z * s,\n    a.z * a.x * r - a.y * s,\n    a.x * a.y * r - a.z * s,\n    a.y * a.y * r + c,\n    a.z * a.y * r + a.x * s,\n    a.x * a.z * r + a.y * s,\n    a.y * a.z * r - a.x * s,\n    a.z * a.z * r + c\n  );\n  return m * p;\n}\n\nvoid main() {\n  vec3 pos = position;\n  float theta = PI * 2.0 / numChars * charIndex;\n  pos.z += radius;\n  pos = rotateVec3(pos, theta, vec3(0.0, 1.0, 0.0));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n\n  vColor = vec4(1.0, 0.0, 0.0, 1.0);\n  vUv = uv;\n}\n",side:r.d}),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"createMesh",value:(u=y(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createGeometry();case 2:return t=e.sent,e.next=5,this.createMaterial();case 5:return n=e.sent,i=new r.g(t,n),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"initFloatingChars",value:(a=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createTextTexture",value:function(e,t){var n=this,i=e.length,o=document.createElement("canvas"),a=o.getContext("2d");o.width=this.textureGridSize*this.numTextureGridCols,o.height=this.textureGridSize*Math.ceil(i/this.numTextureGridCols),a.clearRect(0,0,o.width,o.height),a.font="normal ".concat(.8*this.textureGridSize,"px ").concat(t),a.textAlign="center",a.fillStyle="#ffffff",Array.from(e).forEach((function(e,t){var r=t%n.numTextureGridCols,i=Math.floor(t/n.numTextureGridCols);a.fillText(e,r*n.textureGridSize+n.textureGridSize/2,i*n.textureGridSize+.8*n.textureGridSize,n.textureGridSize)}));var u=new r.n(o);u.flipY=!1,u.needsUpdate=!0,this.uniforms.texture.value=u,o.style.backgroundColor="#000",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.zIndex="999999",document.body.appendChild(o)}},{key:"init",value:(o=y(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initFloatingChars();case 2:return this.createTextTexture(t,n),e.next=5,this.createMesh();case 5:this.mesh=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})}])&&b(t.prototype,n),i&&b(t,i),e}();function C(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"viewProps",void 0),P(this,"canvasElement",void 0),P(this,"renderer",void 0),P(this,"scene",void 0),P(this,"camera",void 0),P(this,"words",void 0),P(this,"clock",void 0),P(this,"time",void 0),P(this,"controls",void 0),this.viewProps={width:window.innerWidth,height:window.innerHeight,dpr:Math.min(devicePixelRatio,2)},this.canvasElement=t,this.renderer=new r.q({alpha:!0,antialias:!0,canvas:this.canvasElement}),this.scene=new r.k,this.camera=new r.h(45,this.viewProps.width/this.viewProps.height,1,1e4),this.controls=new a.a(this.camera,this.renderer.domElement),this.clock=new r.c,this.time=0,this.words=new g,this.init(),this.bind()}var t,n,i,u,s;return t=e,(n=[{key:"render",value:function(){var e=this.clock.getDelta();this.words.update(e),this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"animate",value:function(){this.render(),requestAnimationFrame(this.animate.bind(this))}},{key:"loadFonts",value:function(){return new Promise((function(e){console.log("web font"),o.a.load({google:{families:["Cabin Sketch"]},loading:function(){console.log("loading")},active:function(){console.log("fonts loaded"),e()}})}))}},{key:"initCamera",value:function(){var e=this.viewProps;e.width=window.innerWidth,e.height=window.innerHeight,this.camera.aspect=e.width/e.height,this.camera.updateProjectionMatrix()}},{key:"initRenderer",value:function(){var e=this.viewProps;e.width=window.innerWidth,e.height=window.innerHeight,this.renderer.setSize(e.width,e.height)}},{key:"handleResize",value:function(){this.initRenderer(),this.initCamera()}},{key:"bind",value:function(){window.addEventListener("resize",this.handleResize.bind(this))}},{key:"init",value:(u=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init"),this.initRenderer(),this.initCamera(),this.renderer.setClearColor(16777215,1),this.camera.position.z=300,this.controls.enableDamping=!0,this.controls.dampingFactor=.1,e.next=9,this.loadFonts();case 9:return console.log("word init"),e.next=12,this.words.init("0","Cabin Sketch");case 12:this.scene.add(this.words.mesh),this.clock.start(),this.animate();case 15:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=u.apply(e,t);function o(e){C(i,n,r,o,a,"next",e)}function a(e){C(i,n,r,o,a,"throw",e)}o(void 0)}))},function(){return s.apply(this,arguments)})}])&&k(t.prototype,n),i&&k(t,i),e}();null!==(S=document.querySelector("#canvas"))&&new z(S)}});